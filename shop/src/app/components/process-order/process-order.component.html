<form class="form-horizontal"
      novalidate
      (ngSubmit)="sendOrder()"
      [formGroup]="customerForm">
  <div class="form-group"
       [ngClass]="{'has-error': (customerForm.get('name').touched || customerForm.get('name').dirty) && !customerForm.get('name').valid }">

    <label for="nameId" class="col-md-2 control-label">Name</label>

    <div class="col-md-8">
      <input class="form-control"
             id="nameId"
             type="text"
             placeholder="Name (required)"
             required
             minlength="3"
             formControlName="name"/>
      <span class="help-block"
            *ngIf="(customerForm.get('name').touched || customerForm.get('name').dirty) && customerForm.get('name').errors">
            <span *ngIf="customerForm.get('name').errors.required">
                  Please enter your name.
            </span>
            <span *ngIf="customerForm.get('name').errors.minlength">
                  The name must be longer than 3 characters.
            </span>
        </span>

    </div>
  </div><!-- / name -->
  <div class="form-group"
       [ngClass]="{'has-error': (customerForm.get('email').touched || customerForm.get('email').dirty) && !customerForm.get('email').valid }">

    <label for="emailId" class="col-md-2 control-label">Email</label>

    <div class="col-md-8">
      <input class="form-control"
             id="emailId"
             type="email"
             placeholder="Email (required)"
             formControlName="email"/>
      <span class="help-block"
            *ngIf="(customerForm.get('email').touched || customerForm.get('email').dirty) && customerForm.get('email').errors">
              <span *ngIf="customerForm.get('email').errors.required">
             Please enter your email address.
             </span>
             <span *ngIf="customerForm.get('email').errors.pattern">
                   Please enter a valid email address.
             </span>
             <span *ngIf="customerForm.get('email').errors.email">
                   Please enter a valid email address.
             </span>
        </span>

    </div>
  </div><!-- / email -->


  <div formArrayName="phones" *ngFor="let phone of phones.controls; let i = index">
    <div [formGroupName]="i">

      <div class="form-group" >

        <label class="col-md-2 control-label"
               attr.for="{{'phoneId' + i}}">Phone</label>

        <div class="col-md-8">
          <input class="form-control"
                 id="{{'phoneId' + i}}"
                 type="tel"
                 placeholder="Phone"
                 formControlName="phone"/>
        </div>
      </div>
    </div>

  </div>
  <div class="form-group">
    <div class="col-md-4 col-md-offset-2">
      <button class="btn btn-primary"
              type="button"
              (click)="addPhone()">
        Add Another Phone
      </button>
    </div>
  </div>

  <!-- / phone -->

  <div class="form-group"
       [ngClass]="{'has-error': (customerForm.get('address').touched || customerForm.get('address').dirty) && !customerForm.get('address').valid }">

    <label for="addressId" class="col-md-2 control-label">Address</label>

    <div class="col-md-8">
      <input class="form-control"
             id="addressId"
             type="text"
             placeholder="Address"
             formControlName="address"/>
      <span class="help-block"
            *ngIf="(customerForm.get('address').touched || customerForm.get('address').dirty) && customerForm.get('address').errors">
            <span *ngIf="customerForm.get('address').errors.required">
                  Please enter devlivery address.
            </span>
            <span *ngIf="customerForm.get('address').errors.minlength">
                  The address must be longer than 5 characters.
            </span>
        </span>

    </div>
  </div><!-- / address -->

  <div class="form-group">
    <input id="deliveryRequiredId"
           type="checkbox"
           (change)="clickOnDelivery($event)"
           formControlName="deliveryRequired">
    Delivery required
  </div>
  <button class="btn btn-primary"
          type="submit"
          [disabled]="!customerForm.valid">
    Save order
  </button>

</form>
